/*! fitimage - v1.0.0 - 2014-10-26
* https://github.com/nmietkiewicz/fitimage
* Copyright (c) 2014 Nadia Mietkiewicz; Licensed MIT */
"use strict";!function(a){a.fn.fitimage=function(){return this.each(function(){var b,c,d,e,f=a(this).width(),g=a(this).height(),h=a(this).attr("fitimage");if(h){h=h.split(","),d=h[0],e=h[1],a(this).wrap("<div class='fitimage-container'></div>");var i=a(this).parent();a(i).css({height:e+"px",width:d+"px"})}else{var i=a(this).parent();i.addClass("fitimage-container"),d=i.width(),e=i.height()}var j="fiting "+f+"x"+g+"px in "+d+"x"+e+"px";b=e/g*f/d*100,c=100,100>b?(c=g*d/f,b=100,j+=" (width: 100%, height: "+c+"% cropped)"):j+=" (width: "+b+"% cropped, height: 100%)",console.log(j),a(i).css({overflow:"hidden",position:"relative"}),a(this).css({position:"absolute",width:b+"%",height:c+"%",top:(100-c)/2+"%",left:(100-b)/2+"%"})})}}(jQuery),angular.module("fitimage",[]).directive("fitimage",function(){return{restrict:"A",transclude:!0,link:function(a,b){b.on("load",function(){$(b).fitimage()})}}});